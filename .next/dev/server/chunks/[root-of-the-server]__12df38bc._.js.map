{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshitmaurya/bengal_tourism-harshit/lib/emailService.ts"],"sourcesContent":["import nodemailer from 'nodemailer';\n\nconst EMAIL_HOST = process.env.EMAIL_HOST || 'smtp.gmail.com';\nconst EMAIL_PORT = parseInt(process.env.EMAIL_PORT || '587');\nconst EMAIL_USER = process.env.EMAIL_USER || 'bengaltourism@gmail.com';\nconst EMAIL_PASS = process.env.EMAIL_PASS || '';\nconst EMAIL_FROM = process.env.EMAIL_FROM || 'Bengal Tourism <bengaltourism@gmail.com>';\n\nconst TO_EMAIL = 'bengaltourism@gmail.com';\nconst NOTIFICATION_EMAIL = 'betenepali1@gmail.com';\n\n// Create transporter\nconst transporter = nodemailer.createTransport({\n  host: EMAIL_HOST,\n  port: EMAIL_PORT,\n  secure: EMAIL_PORT === 465,\n  auth: {\n    user: EMAIL_USER,\n    pass: EMAIL_PASS,\n  },\n});\n\n// Verify transporter connection\ntransporter.verify((error: any, success: any) => {\n  if (error) {\n    console.error('Email service error:', error);\n  } else {\n    console.log('Email server is ready to send messages');\n  }\n});\n\nexport interface EmailData {\n  to: string;\n  subject: string;\n  html: string;\n  text?: string;\n}\n\nexport const sendEmail = async (data: EmailData): Promise<boolean> => {\n  try {\n    const mailOptions = {\n      from: EMAIL_FROM,\n      to: data.to,\n      subject: data.subject,\n      html: data.html,\n      text: data.text,\n    };\n\n    await transporter.sendMail(mailOptions);\n    console.log('Email sent successfully to:', data.to);\n    return true;\n  } catch (error) {\n    console.error('Error sending email:', error);\n    return false;\n  }\n};\n\nexport const sendContactFormEmail = async (formData: {\n  name: string;\n  email: string;\n  phone: string;\n  message: string;\n  subject?: string;\n  department?: string;\n}): Promise<boolean> => {\n  // Email to admin\n  const adminEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; border-bottom: 2px solid #dc2626; padding-bottom: 10px;\">\n        New Contact Form Submission\n      </h2>\n      <div style=\"background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <p><strong>Name:</strong> ${formData.name}</p>\n        <p><strong>Email:</strong> ${formData.email}</p>\n        <p><strong>Phone:</strong> ${formData.phone}</p>\n        ${formData.subject ? `<p><strong>Subject:</strong> ${formData.subject}</p>` : ''}\n        ${formData.department ? `<p><strong>Department:</strong> ${formData.department}</p>` : ''}\n        <p><strong>Message:</strong></p>\n        <p style=\"background-color: white; padding: 15px; border-left: 4px solid #dc2626; margin-top: 10px;\">\n          ${formData.message}\n        </p>\n      </div>\n      <p style=\"color: #6b7280; font-size: 12px; margin-top: 20px;\">\n        This email was sent from the Bengal Tourism contact form.\n      </p>\n    </div>\n  `;\n\n  // Email to user (confirmation)\n  const userEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; text-align: center; margin-bottom: 20px;\">\n        Thank You for Contacting Bengal Tourism!\n      </h2>\n      <div style=\"background-color: #fef2f2; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #fecaca;\">\n        <p>Dear ${formData.name},</p>\n        <p>Thank you for reaching out to us. We have received your message and will get back to you within 24 hours.</p>\n        <p>Here's a summary of your message:</p>\n        <div style=\"background-color: white; padding: 15px; border-radius: 5px; margin: 15px 0;\">\n          <p><strong>Subject:</strong> ${formData.subject || 'General Inquiry'}</p>\n          <p><strong>Message:</strong> ${formData.message}</p>\n        </div>\n      </div>\n      <div style=\"text-align: center; margin: 30px 0;\">\n        <h3 style=\"color: #1f2937;\">Contact Information</h3>\n        <p><strong>Tour Booking:</strong> +91 62897 83779</p>\n        <p><strong>Hotel Booking:</strong> +91 90079 95888</p>\n        <p><strong>Email:</strong> bengaltourism@gmail.com</p>\n      </div>\n      <p style=\"color: #6b7280; font-size: 12px; text-align: center; margin-top: 20px;\">\n        Best regards,<br>\n        Bengal Tourism Team\n      </p>\n    </div>\n  `;\n\n  try {\n    await Promise.all([\n      sendEmail({\n        to: TO_EMAIL,\n        subject: `New Contact Form: ${formData.subject || 'General Inquiry'} from ${formData.name}`,\n        html: adminEmail,\n      }),\n      sendEmail({\n        to: NOTIFICATION_EMAIL,\n        subject: `ðŸ”” New Contact Form: ${formData.subject || 'General Inquiry'} from ${formData.name}`,\n        html: adminEmail,\n      }),\n      sendEmail({\n        to: formData.email,\n        subject: 'Thank you for contacting Bengal Tourism',\n        html: userEmail,\n      }),\n    ]);\n    return true;\n  } catch (error) {\n    console.error('Error sending contact form emails:', error);\n    return false;\n  }\n};\n\nexport const sendHotelBookingEmail = async (formData: any): Promise<boolean> => {\n  const adminEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; border-bottom: 2px solid #dc2626; padding-bottom: 10px;\">\n        New Hotel Booking Request\n      </h2>\n      <div style=\"background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <h3 style=\"color: #1f2937; margin-top: 0;\">Personal Information</h3>\n        <p><strong>Name:</strong> ${formData.fullName}</p>\n        <p><strong>Email:</strong> ${formData.email}</p>\n        <p><strong>Phone:</strong> ${formData.countryCode} ${formData.phone}</p>\n        <p><strong>Address:</strong> ${formData.address}, ${formData.pinCode}</p>\n        \n        <h3 style=\"color: #1f2937; margin-top: 20px;\">Booking Details</h3>\n        <p><strong>Destination:</strong> ${formData.destination}</p>\n        <p><strong>Room Type:</strong> ${formData.roomType}</p>\n        <p><strong>No. of Rooms:</strong> ${formData.noOfRooms}</p>\n        <p><strong>Check-in:</strong> ${formData.checkIn}</p>\n        <p><strong>Check-out:</strong> ${formData.checkOut}</p>\n        <p><strong>Adults:</strong> ${formData.adults}</p>\n        <p><strong>Children:</strong> ${formData.children}</p>\n        <p><strong>Preferred Hotel:</strong> ${formData.preferredHotel || 'Not specified'}</p>\n        ${formData.specialInfo ? `<p><strong>Special Requirements:</strong> ${formData.specialInfo}</p>` : ''}\n        \n        <h3 style=\"color: #1f2937; margin-top: 20px;\">Pricing</h3>\n        <p><strong>Cost per Room:</strong> â‚¹${formData.costPerRoom}/night</p>\n        <p><strong>Total Nights:</strong> ${formData.totalNights}</p>\n        <p><strong>Estimated Cost:</strong> â‚¹${formData.estimatedCost}</p>\n        <p><strong>Booking Amount:</strong> â‚¹${formData.bookingAmount} (${formData.paymentType === 'full' ? 'Full Payment' : '50% Advance'})</p>\n      </div>\n    </div>\n  `;\n\n  const userEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; text-align: center; margin-bottom: 20px;\">\n        Hotel Booking Request Received\n      </h2>\n      <div style=\"background-color: #fef2f2; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #fecaca;\">\n        <p>Dear ${formData.fullName},</p>\n        <p>Thank you for your hotel booking request. We have received your submission and will process it shortly.</p>\n        <p><strong>Booking Reference:</strong> HT${Date.now()}</p>\n      </div>\n      <div style=\"background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <h3 style=\"color: #1f2937; margin-top: 0;\">Booking Summary</h3>\n        <p><strong>Destination:</strong> ${formData.destination}</p>\n        <p><strong>Check-in:</strong> ${formData.checkIn}</p>\n        <p><strong>Check-out:</strong> ${formData.checkOut}</p>\n        <p><strong>Rooms:</strong> ${formData.noOfRooms} ${formData.roomType}</p>\n        <p><strong>Guests:</strong> ${formData.adults} Adults, ${formData.children} Children</p>\n        <p><strong>Booking Amount:</strong> â‚¹${formData.bookingAmount}</p>\n      </div>\n      <p style=\"color: #6b7280; font-size: 12px; text-align: center; margin-top: 20px;\">\n        Our team will contact you within 24 hours to confirm your booking.\n      </p>\n    </div>\n  `;\n\n  try {\n    await Promise.all([\n      sendEmail({\n        to: TO_EMAIL,\n        subject: `Hotel Booking: ${formData.destination} from ${formData.fullName}`,\n        html: adminEmail,\n      }),\n      sendEmail({\n        to: formData.email,\n        subject: 'Hotel Booking Request Received - Bengal Tourism',\n        html: userEmail,\n      }),\n    ]);\n    return true;\n  } catch (error) {\n    console.error('Error sending hotel booking emails:', error);\n    return false;\n  }\n};\n\nexport const sendTourBookingEmail = async (formData: any): Promise<boolean> => {\n  const adminEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; border-bottom: 2px solid #dc2626; padding-bottom: 10px;\">\n        New Tour Booking Request\n      </h2>\n      <div style=\"background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <h3 style=\"color: #1f2937; margin-top: 0;\">Personal Information</h3>\n        <p><strong>Name:</strong> ${formData.fullName}</p>\n        <p><strong>Email:</strong> ${formData.email}</p>\n        <p><strong>Phone:</strong> ${formData.countryCode} ${formData.phone}</p>\n        <p><strong>Address:</strong> ${formData.address}, ${formData.pinCode}</p>\n        \n        <h3 style=\"color: #1f2937; margin-top: 20px;\">Tour Details</h3>\n        <p><strong>Destination:</strong> ${formData.destination}</p>\n        <p><strong>Start Date:</strong> ${formData.checkIn}</p>\n        <p><strong>End Date:</strong> ${formData.checkOut}</p>\n        <p><strong>Pickup Place:</strong> ${formData.pickupPlace || 'Not specified'}</p>\n        <p><strong>Drop Place:</strong> ${formData.dropPlace || 'Not specified'}</p>\n        <p><strong>Adults:</strong> ${formData.adults}</p>\n        <p><strong>Children:</strong> ${formData.children}</p>\n        <p><strong>Total Nights:</strong> ${formData.totalNights}</p>\n        ${formData.specialInfo ? `<p><strong>Special Requirements:</strong> ${formData.specialInfo}</p>` : ''}\n        \n        <h3 style=\"color: #1f2937; margin-top: 20px;\">Pricing</h3>\n        <p><strong>Cost per Adult:</strong> â‚¹${formData.costPerAdult}</p>\n        <p><strong>Cost per Children:</strong> â‚¹${formData.costPerChildren || '0'}</p>\n        <p><strong>Estimated Cost:</strong> â‚¹${formData.estimatedCost}</p>\n        <p><strong>Booking Amount:</strong> â‚¹${formData.bookingAmount}</p>\n        ${formData.promoCode ? `<p><strong>Promo Code:</strong> ${formData.promoCode}</p>` : ''}\n        ${formData.membershipNo ? `<p><strong>Membership No:</strong> ${formData.membershipNo}</p>` : ''}\n      </div>\n    </div>\n  `;\n\n  const userEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; text-align: center; margin-bottom: 20px;\">\n        Tour Booking Request Received\n      </h2>\n      <div style=\"background-color: #fef2f2; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #fecaca;\">\n        <p>Dear ${formData.fullName},</p>\n        <p>Thank you for your tour booking request. We have received your submission and will process it shortly.</p>\n        <p><strong>Booking Reference:</strong> TT${Date.now()}</p>\n      </div>\n      <div style=\"background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <h3 style=\"color: #1f2937; margin-top: 0;\">Tour Summary</h3>\n        <p><strong>Destination:</strong> ${formData.destination}</p>\n        <p><strong>Duration:</strong> ${formData.checkIn} to ${formData.checkOut}</p>\n        <p><strong>Travelers:</strong> ${formData.adults} Adults, ${formData.children} Children</p>\n        <p><strong>Booking Amount:</strong> â‚¹${formData.bookingAmount}</p>\n      </div>\n      <p style=\"color: #6b7280; font-size: 12px; text-align: center; margin-top: 20px;\">\n        Our team will contact you within 24 hours to confirm your tour details.\n      </p>\n    </div>\n  `;\n\n  try {\n    await Promise.all([\n      sendEmail({\n        to: TO_EMAIL,\n        subject: `Tour Booking: ${formData.destination} from ${formData.fullName}`,\n        html: adminEmail,\n      }),\n      sendEmail({\n        to: formData.email,\n        subject: 'Tour Booking Request Received - Bengal Tourism',\n        html: userEmail,\n      }),\n    ]);\n    return true;\n  } catch (error) {\n    console.error('Error sending tour booking emails:', error);\n    return false;\n  }\n};\n\nexport const sendMembershipEmail = async (formData: any): Promise<boolean> => {\n  const adminEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; border-bottom: 2px solid #dc2626; padding-bottom: 10px;\">\n        New Membership Application\n      </h2>\n      <div style=\"background-color: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;\">\n        <h3 style=\"color: #1f2937; margin-top: 0;\">Applicant Information</h3>\n        <p><strong>Name:</strong> ${formData.firstName} ${formData.lastName}</p>\n        <p><strong>Email:</strong> ${formData.email}</p>\n        <p><strong>Phone:</strong> ${formData.phone}</p>\n        <p><strong>Earning Method:</strong> ${formData.earningMethod}</p>\n        <p><strong>Payment Mode:</strong> ${formData.paymentMode}</p>\n        <p><strong>IFSC Code/UPI Name:</strong> ${formData.ifscUpi}</p>\n      </div>\n    </div>\n  `;\n\n  const userEmail = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h2 style=\"color: #dc2626; text-align: center; margin-bottom: 20px;\">\n        Membership Application Received\n      </h2>\n      <div style=\"background-color: #fef2f2; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #fecaca;\">\n        <p>Dear ${formData.firstName} ${formData.lastName},</p>\n        <p>Thank you for applying to our membership program. We have received your application and will review it shortly.</p>\n        <p><strong>Application ID:</strong> MB${Date.now()}</p>\n        <p><strong>Selected Program:</strong> ${formData.earningMethod}</p>\n      </div>\n      <div style=\"text-align: center; margin: 30px 0;\">\n        <h3 style=\"color: #1f2937;\">Next Steps</h3>\n        <p>1. Our team will review your application</p>\n        <p>2. You'll receive payment instructions via email</p>\n        <p>3. Once payment is confirmed, your membership will be activated</p>\n      </div>\n      <p style=\"color: #6b7280; font-size: 12px; text-align: center; margin-top: 20px;\">\n        For any queries, contact us at bengaltourism@gmail.com or call +91 62897 83779\n      </p>\n    </div>\n  `;\n\n  try {\n    await Promise.all([\n      sendEmail({\n        to: TO_EMAIL,\n        subject: `Membership Application: ${formData.earningMethod} from ${formData.firstName} ${formData.lastName}`,\n        html: adminEmail,\n      }),\n      sendEmail({\n        to: formData.email,\n        subject: 'Membership Application Received - Bengal Tourism',\n        html: userEmail,\n      }),\n    ]);\n    return true;\n  } catch (error) {\n    console.error('Error sending membership emails:', error);\n    return false;\n  }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshitmaurya/bengal_tourism-harshit/app/api/contact/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { sendContactFormEmail } from '@/lib/emailService';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    \n    const { name, email, phone, message, subject, department } = body;\n\n    // Validate required fields\n    if (!name || !email || !phone || !message) {\n      return NextResponse.json(\n        { error: 'Missing required fields: name, email, phone, message' },\n        { status: 400 }\n      );\n    }\n\n    // Validate email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      return NextResponse.json(\n        { error: 'Invalid email format' },\n        { status: 400 }\n      );\n    }\n\n    // Send emails\n    const emailSent = await sendContactFormEmail({\n      name,\n      email,\n      phone,\n      message,\n      subject,\n      department,\n    });\n\n    if (emailSent) {\n      return NextResponse.json(\n        { \n          success: true, \n          message: 'Contact form submitted successfully. You will receive a confirmation email shortly.' \n        },\n        { status: 200 }\n      );\n    } else {\n      return NextResponse.json(\n        { error: 'Failed to send email. Please try again later.' },\n        { status: 500 }\n      );\n    }\n  } catch (error) {\n    console.error('Contact form API error:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG;QAE7D,2BAA2B;QAC3B,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS;YACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuD,GAChE;gBAAE,QAAQ;YAAI;QAElB;QAEA,wBAAwB;QACxB,MAAM,aAAa;QACnB,IAAI,CAAC,WAAW,IAAI,CAAC,QAAQ;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,cAAc;QACd,MAAM,YAAY,MAAM,IAAA,6IAAoB,EAAC;YAC3C;YACA;YACA;YACA;YACA;YACA;QACF;QAEA,IAAI,WAAW;YACb,OAAO,gJAAY,CAAC,IAAI,CACtB;gBACE,SAAS;gBACT,SAAS;YACX,GACA;gBAAE,QAAQ;YAAI;QAElB,OAAO;YACL,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAgD,GACzD;gBAAE,QAAQ;YAAI;QAElB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}